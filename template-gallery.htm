<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Films</title>
<link rel="icon" href="{{icon}}" />
<style type="text/css">
body {
  font: normal 14px Verdana, Arial, sans-serif;
}
a {
  color: inherit;
  text-decoration: none;
}
a:hover {
  color: blue;
}
p {
  margin-top:0px;
  margin-bottom:10px;
}
span {
  display:inline-table;
  width:160px;
  align-items: center;
}
h2 {
  line-height: 18px;
  border-top: 2px solid lightgrey;
  border-bottom: 2px solid lightgrey;
  padding-top:5px;
  padding-bottom:5px;
}
img.cover {
  max-width:160px;
  max-height:240px;
  width=auto;
  height=auto;
}
</style>
</head>

<body>
{{menu}}

<div style="width: 95%; margin-left: auto; margin-right: auto">
{% if index %}
    <h2>
    {% for x in index %}
        <a style="display:inline-table;" href="#{{x}}">{{x}}</a>
    {% endfor %}
    </h2>
{% endif %}

{% for key, records in sorted_records.items()|sort(attribute='0') %}
    {% if tags[key] %}
        <div id="{{tags[key]}}" style="visibility: hidden;"></div>
    {% endif %}
    {% if key %}
        <h2>{{key}}</h2>
    {% endif %}
    {% for record in records %}
        <span>
        <img
            class="cover"
            src="{{record.thumb_path}}"
            alt="{{record.title}} cover"
            title="{{record.hover_text}}"
            onclick="window.open('{{record.movie_page}}', '_self')" />
        <p>{{record.year_title if caption else record.title}}</p>
        </span>
    {% endfor %}
{% endfor %}

</div>
</body>
</html>
